{"ast":null,"code":"import { HTMLIds } from \"./SigCaptX-Globals\";\nimport { BITMAP_BACKGROUNDCOLOR, BITMAP_IMAGEFORMAT, BITMAP_INKCOLOR, BITMAP_INKWIDTH, BITMAP_PADDING_X, BITMAP_PADDING_Y } from './SigCaptX-Globals';\nimport { SessionControl } from './SigCaptX-SessionControl';\nimport * as i0 from \"@angular/core\";\nexport class SigCapture {\n  static {\n    this.HTMLTagIds = new HTMLIds();\n  } // Set up the array of HTML tags which refer to the various HTML elements on the form\n  capturesig() {\n    console.log(\"xd\");\n    if (null != SigCapture.HTMLTagIds.imageBox.firstChild) {\n      SigCapture.HTMLTagIds.imageBox.removeChild(SigCapture.HTMLTagIds.imageBox.firstChild);\n    }\n    if (window.sdkPtr.running) {\n      SigCapture.Capture();\n    } else {\n      SessionControl.actionWhenRestarted();\n      return;\n    }\n  }\n  static print(txt) {\n    SigCapture.HTMLTagIds.txtDisplay.value += txt + \"\\n\";\n    SigCapture.HTMLTagIds.txtDisplay.scrollTop = SigCapture.HTMLTagIds.txtDisplay.scrollHeight; // scroll to end\n  }\n\n  static callbackStatusOK(methodName, status) {\n    if (window.sdkPtr.ResponseStatus.OK === status) {\n      return true;\n    } else {\n      SigCapture.print(methodName + \" error: \" + status);\n      return false;\n    }\n  }\n  static Capture() {\n    // Construct a hash object to contain the hash\n    SigCapture.hash = new window.sdkPtr.Hash(SigCapture.onHashConstructor);\n  }\n  static onHashConstructor(hashV, status) {\n    if (window.sdkPtr.ResponseStatus.OK == status) {\n      SigCapture.GetHash(hashV, SigCapture.onGetInitialHash);\n    } else {\n      SigCapture.print(\"Hash Constructor error: \" + status);\n      if (window.sdkPtr.ResponseStatus.INVALID_SESSION == status) {\n        SigCapture.print(\"Error: invalid session. Restarting the session.\");\n        SessionControl.actionWhenRestarted();\n      }\n    }\n  }\n  // Once the hash value has been calculated successfully next step is to capture the signature\n  static {\n    this.onGetInitialHash = () => {\n      var firstName = SigCapture.HTMLTagIds.firstName.value;\n      var lastName = SigCapture.HTMLTagIds.lastName.value;\n      var fullName = firstName + \" \" + lastName;\n      SigCapture.dynCapt.Capture(SigCapture.sigCtl, fullName, \"Document Approval\", SigCapture.hash, null, SigCapture.onDynCaptCapture);\n    };\n  }\n  static {\n    this.onDynCaptCapture = (dynCaptV, SigObjV, status) => {\n      if (window.sdkPtr.ResponseStatus.INVALID_SESSION == status) {\n        SigCapture.print(\"Error: invalid session. Restarting the session.\");\n        SessionControl.actionWhenRestarted(); // See SigCaptX-SessionControl.ts\n      } else {\n        /* Check the status returned from the signature capture */\n        switch (status) {\n          case window.sdkPtr.DynamicCaptureResult.DynCaptOK:\n            SigCapture.sigObj = SigObjV; // Populate the sigObj static property for later use\n            SigCapture.print(\"Signature captured successfully\");\n            /* Set the RenderBitmap flags as appropriate depending on whether the user wants to use a picture image or B64 text value */\n            if (SigCapture.HTMLTagIds.checkBoxUseB64.checked) {\n              var outputFlags = window.sdkPtr.RBFlags.RenderOutputBase64 | window.sdkPtr.RBFlags.RenderColor32BPP;\n            } else {\n              var outputFlags = window.sdkPtr.RBFlags.RenderOutputPicture | window.sdkPtr.RBFlags.RenderColor32BPP;\n            }\n            SigObjV.RenderBitmap(BITMAP_IMAGEFORMAT, SigCapture.HTMLTagIds.imageBox.clientWidth, SigCapture.HTMLTagIds.imageBox.clientHeight, BITMAP_INKWIDTH, BITMAP_INKCOLOR, BITMAP_BACKGROUNDCOLOR, outputFlags, BITMAP_PADDING_X, BITMAP_PADDING_Y, SigCapture.onRenderBitmap);\n            break;\n          case window.sdkPtr.DynamicCaptureResult.DynCaptCancel:\n            SigCapture.print(\"Signature capture cancelled\");\n            break;\n          case window.sdkPtr.DynamicCaptureResult.DynCaptPadError:\n            SigCapture.print(\"No capture service available\");\n            break;\n          case window.sdkPtr.DynamicCaptureResult.DynCaptError:\n            SigCapture.print(\"Tablet Error\");\n            break;\n          case window.sdkPtr.DynamicCaptureResult.DynCaptNotLicensed:\n            SigCapture.print(\"No valid Signature Capture licence found\");\n            break;\n          default:\n            SigCapture.print(\"Capture Error \" + status);\n            break;\n        }\n      }\n    };\n  }\n  static {\n    this.onRenderBitmap = (sigObjV, bmpObj, status) =>\n    // Handles the output of the RenderBitmap() function\n    {\n      if (SigCapture.callbackStatusOK(\"Signature Render Bitmap\", status)) {\n        /* If the user wants to demonstrate the use of B64 image strings then define an image and set its source to the B64 string*/\n        if (SigCapture.HTMLTagIds.checkBoxUseB64.checked) {\n          SigCapture.print(\"base64_image:>\" + bmpObj + \"<\");\n          let img = new Image();\n          img.src = \"data:image/png;base64,\" + bmpObj;\n          if (null == SigCapture.HTMLTagIds.imageBox.firstChild) {\n            SigCapture.HTMLTagIds.imageBox.appendChild(img);\n          } else {\n            SigCapture.HTMLTagIds.imageBox.replaceChild(img, SigCapture.HTMLTagIds.imageBox.firstChild);\n          }\n        } else {\n          /* If RenderBitmap generated a standard image (picture) then just place that picture in the img control on the HTML form */\n          if (null == SigCapture.HTMLTagIds.imageBox.firstChild) {\n            console.log(bmpObj.image);\n            SigCapture.HTMLTagIds.imageBox.appendChild(bmpObj.image);\n          } else {\n            SigCapture.HTMLTagIds.imageBox.replaceChild(bmpObj.image, SigCapture.HTMLTagIds.imageBox.firstChild);\n          }\n        }\n        /* If the user chose the option to show the SigText value on the form then call the function to do this */\n        var checkShowSigtext = document.getElementById(\"chkShowSigText\");\n        if (checkShowSigtext.checked) {\n          sigObjV.GetSigText(SigCapture.onGetSigText);\n        }\n      }\n    };\n  }\n  /* This function takes the SigText value returned by the callback and places it in the txtSignature tag on the form */\n  static {\n    this.onGetSigText = (sigObjV, text, status) => {\n      if (SigCapture.callbackStatusOK(\"Signature Render Bitmap\", status)) {\n        SigCapture.HTMLTagIds.textSig.value = text;\n      }\n    };\n  }\n  static {\n    this.GetHash = (hash, callback) => {\n      SigCapture.callbackFunc = callback;\n      SigCapture.print(\"Creating hash:\");\n      hash.Clear(SigCapture.onClear); // Clear any pre-existing hash value before creating a new one\n    };\n  }\n\n  static {\n    this.onClear = (hashV, status) => {\n      if (SigCapture.callbackStatusOK(\"Hash Clear\", status)) {\n        hashV.PutType(window.sdkPtr.HashType.HashMD5, SigCapture.onPutType);\n      }\n    };\n  }\n  static {\n    this.onPutType = (hashV, status) => {\n      if (SigCapture.callbackStatusOK(\"Hash PutType\", status)) {\n        var vFname = new window.sdkPtr.Variant();\n        vFname.Set(SigCapture.HTMLTagIds.firstName.value);\n        hashV.Add(vFname, SigCapture.onAddFname); // Add the first name to the hash\n      }\n    };\n  }\n\n  static {\n    this.onAddFname = (hashV, status) => {\n      if (SigCapture.callbackStatusOK(\"Hash Add\", status)) {\n        var vLname = new window.sdkPtr.Variant();\n        vLname.Set(SigCapture.HTMLTagIds.lastName.value);\n        hashV.Add(vLname, SigCapture.onAddLname); // Add the surname to the hash\n      }\n    };\n  }\n\n  static {\n    this.onAddLname = (hashV, status) => {\n      if (SigCapture.callbackStatusOK(\"Hash Add\", status)) {\n        SigCapture.callbackFunc();\n      }\n    };\n  }\n  static {\n    this.ɵfac = function SigCapture_Factory(t) {\n      return new (t || SigCapture)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SigCapture,\n      selectors: [[\"btn-capture\"]],\n      decls: 1,\n      vars: 0,\n      consts: [[\"type\", \"button\", \"value\", \"Capture\", \"title\", \"Starts signature capture\", 2, \"height\", \"10mm\", \"width\", \"35mm\", 3, \"click\"]],\n      template: function SigCapture_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"input\", 0);\n          i0.ɵɵlistener(\"click\", function SigCapture_Template_input_click_0_listener() {\n            return ctx.capturesig();\n          });\n          i0.ɵɵelementEnd();\n        }\n      },\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["HTMLIds","BITMAP_BACKGROUNDCOLOR","BITMAP_IMAGEFORMAT","BITMAP_INKCOLOR","BITMAP_INKWIDTH","BITMAP_PADDING_X","BITMAP_PADDING_Y","SessionControl","SigCapture","HTMLTagIds","capturesig","console","log","imageBox","firstChild","removeChild","window","sdkPtr","running","Capture","actionWhenRestarted","print","txt","txtDisplay","value","scrollTop","scrollHeight","callbackStatusOK","methodName","status","ResponseStatus","OK","hash","Hash","onHashConstructor","hashV","GetHash","onGetInitialHash","INVALID_SESSION","firstName","lastName","fullName","dynCapt","sigCtl","onDynCaptCapture","dynCaptV","SigObjV","DynamicCaptureResult","DynCaptOK","sigObj","checkBoxUseB64","checked","outputFlags","RBFlags","RenderOutputBase64","RenderColor32BPP","RenderOutputPicture","RenderBitmap","clientWidth","clientHeight","onRenderBitmap","DynCaptCancel","DynCaptPadError","DynCaptError","DynCaptNotLicensed","sigObjV","bmpObj","img","Image","src","appendChild","replaceChild","image","checkShowSigtext","document","getElementById","GetSigText","onGetSigText","text","textSig","callback","callbackFunc","Clear","onClear","PutType","HashType","HashMD5","onPutType","vFname","Variant","Set","Add","onAddFname","vLname","onAddLname","selectors","decls","vars","consts","template","SigCapture_Template","rf","ctx","i0","ɵɵelementStart","ɵɵlistener","SigCapture_Template_input_click_0_listener","ɵɵelementEnd"],"sources":["C:\\Users\\PROGRAMA2WEB\\Desktop\\wacom-pruebas\\sdk-for-signature-sigcaptx-windows-master\\Samples\\AngularNG\\capture\\src\\app\\capture.ts","C:\\Users\\PROGRAMA2WEB\\Desktop\\wacom-pruebas\\sdk-for-signature-sigcaptx-windows-master\\Samples\\AngularNG\\capture\\src\\app\\btncapture.html"],"sourcesContent":["/* **************************************************************************\r\n  capture.ts\r\n   \r\n  This file contains the source code for capturing a signature.\r\n  The \"capturesig()\" function is activated by the click event on the \r\n  Capture button on the form which is defined in btncapture.html\r\n  \r\n  Copyright (c) 2021 Wacom Co. Ltd. All rights reserved.\r\n  \r\n  v1.0\r\n  \r\n***************************************************************************/\r\nimport { Component } from '@angular/core';\r\nimport { HTMLIds } from \"./SigCaptX-Globals\";\r\nimport { BITMAP_BACKGROUNDCOLOR, BITMAP_IMAGEFORMAT, BITMAP_INKCOLOR, BITMAP_INKWIDTH, BITMAP_PADDING_X, BITMAP_PADDING_Y} from './SigCaptX-Globals';\r\nimport { SessionControl } from './SigCaptX-SessionControl';\r\n\r\n\r\ndeclare global {\r\n  interface Window {\r\n      JSONreq: any;\r\n      sdkPtr: any;  \r\n    }\r\n}\r\n\r\n@Component({\r\n  selector: 'btn-capture',\r\n  templateUrl: './btncapture.html'\r\n})\r\n\r\n\r\nexport class SigCapture \r\n{\r\n    static callbackFunc:any;\r\n    static dynCapt:any;\r\n    static hash:any;\r\n    static sigCtl: any;\r\n    static sigObj: any;\r\n\r\n    static HTMLTagIds = new HTMLIds();  // Set up the array of HTML tags which refer to the various HTML elements on the form\r\n\r\n    capturesig()\r\n    {        \r\n      console.log(\"xd\");\r\n        if(null != SigCapture.HTMLTagIds.imageBox.firstChild)\r\n        {\r\n          SigCapture.HTMLTagIds.imageBox.removeChild(SigCapture.HTMLTagIds.imageBox.firstChild);\r\n        }\r\n\r\n        if (window.sdkPtr.running) \r\n        {\r\n          SigCapture.Capture();\r\n        }\r\n        else\r\n        {\r\n          SessionControl.actionWhenRestarted();\r\n          return;\r\n        }\r\n    }    \r\n    \r\n    static print(txt:string)   // Outputs a text string to the message display text box on the main form\r\n    {\r\n      SigCapture.HTMLTagIds.txtDisplay.value += txt + \"\\n\";\r\n      SigCapture.HTMLTagIds.txtDisplay.scrollTop = SigCapture.HTMLTagIds.txtDisplay.scrollHeight; // scroll to end\r\n    }\r\n\r\n    static callbackStatusOK ( methodName, status )  // Error handler routine for return values from callbacks\r\n    {\r\n      if(window.sdkPtr.ResponseStatus.OK === status)\r\n      {\r\n        return true;\r\n      }\r\n      else\r\n      {\r\n        SigCapture.print(methodName + \" error: \" + status);\r\n        return false;\r\n      }\r\n    }\r\n\r\n    static Capture()\r\n    {       \r\n        // Construct a hash object to contain the hash\r\n        SigCapture.hash = new window.sdkPtr.Hash(SigCapture.onHashConstructor);\r\n    }\r\n\r\n    static onHashConstructor(hashV, status)\r\n    {\r\n        if(window.sdkPtr.ResponseStatus.OK == status)\r\n        {\r\n            SigCapture.GetHash(hashV, SigCapture.onGetInitialHash);\r\n        }\r\n        else\r\n        {\r\n            SigCapture.print(\"Hash Constructor error: \" + status);\r\n            if(window.sdkPtr.ResponseStatus.INVALID_SESSION == status)\r\n            {\r\n                SigCapture.print(\"Error: invalid session. Restarting the session.\");\r\n                SessionControl.actionWhenRestarted();\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    // Once the hash value has been calculated successfully next step is to capture the signature\r\n    static onGetInitialHash = () =>\r\n    {\r\n        var firstName = SigCapture.HTMLTagIds.firstName.value;\r\n        var lastName = SigCapture.HTMLTagIds.lastName.value;\r\n        var fullName = firstName + \" \" + lastName;\r\n        \r\n        SigCapture.dynCapt.Capture(SigCapture.sigCtl, fullName, \"Document Approval\",  SigCapture.hash, null, SigCapture.onDynCaptCapture);\r\n    }\r\n\r\n    static onDynCaptCapture = (dynCaptV, SigObjV, status) =>\r\n    {\r\n        if(window.sdkPtr.ResponseStatus.INVALID_SESSION == status)\r\n        {\r\n            SigCapture.print(\"Error: invalid session. Restarting the session.\");\r\n            SessionControl.actionWhenRestarted();  // See SigCaptX-SessionControl.ts\r\n        }\r\n        else\r\n        {\r\n            /* Check the status returned from the signature capture */\r\n            switch( status ) \r\n            {\r\n                case window.sdkPtr.DynamicCaptureResult.DynCaptOK:\r\n                SigCapture.sigObj = SigObjV;  // Populate the sigObj static property for later use\r\n                SigCapture.print(\"Signature captured successfully\");\r\n\r\n                /* Set the RenderBitmap flags as appropriate depending on whether the user wants to use a picture image or B64 text value */\r\n                if (SigCapture.HTMLTagIds.checkBoxUseB64.checked)\r\n                {\r\n                    var outputFlags = window.sdkPtr.RBFlags.RenderOutputBase64 | window.sdkPtr.RBFlags.RenderColor32BPP;\r\n                } \r\n                else\r\n                {\r\n                    var outputFlags = window.sdkPtr.RBFlags.RenderOutputPicture | window.sdkPtr.RBFlags.RenderColor32BPP;\r\n                }\r\n                SigObjV.RenderBitmap(BITMAP_IMAGEFORMAT, SigCapture.HTMLTagIds.imageBox.clientWidth, SigCapture.HTMLTagIds.imageBox.clientHeight, BITMAP_INKWIDTH, BITMAP_INKCOLOR, BITMAP_BACKGROUNDCOLOR, outputFlags, BITMAP_PADDING_X, BITMAP_PADDING_Y, SigCapture.onRenderBitmap);\r\n                break;\r\n\r\n                case window.sdkPtr.DynamicCaptureResult.DynCaptCancel:\r\n                SigCapture.print(\"Signature capture cancelled\");\r\n                break;\r\n                \r\n                case window.sdkPtr.DynamicCaptureResult.DynCaptPadError:\r\n                SigCapture.print(\"No capture service available\");\r\n                break;\r\n                \r\n                case window.sdkPtr.DynamicCaptureResult.DynCaptError:\r\n                SigCapture.print(\"Tablet Error\");\r\n                break;\r\n                \r\n                case window.sdkPtr.DynamicCaptureResult.DynCaptNotLicensed:\r\n                SigCapture.print(\"No valid Signature Capture licence found\");\r\n                break;\r\n                \r\n                default: \r\n                SigCapture.print(\"Capture Error \" + status);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n        \r\n    static onRenderBitmap = (sigObjV, bmpObj, status) =>   // Handles the output of the RenderBitmap() function\r\n    {\r\n        if(SigCapture.callbackStatusOK(\"Signature Render Bitmap\", status))\r\n        {\r\n            /* If the user wants to demonstrate the use of B64 image strings then define an image and set its source to the B64 string*/\r\n            if (SigCapture.HTMLTagIds.checkBoxUseB64.checked)\r\n            {\r\n                SigCapture.print(\"base64_image:>\"+bmpObj+\"<\");\r\n                let img = new Image();\r\n                img.src = \"data:image/png;base64,\" + bmpObj;\r\n\r\n                if(null == SigCapture.HTMLTagIds.imageBox.firstChild)\r\n                {\r\n                    SigCapture.HTMLTagIds.imageBox.appendChild(img);\r\n                }\r\n                else\r\n                {\r\n                    SigCapture.HTMLTagIds.imageBox.replaceChild(img, SigCapture.HTMLTagIds.imageBox.firstChild);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                /* If RenderBitmap generated a standard image (picture) then just place that picture in the img control on the HTML form */\r\n                if(null == SigCapture.HTMLTagIds.imageBox.firstChild)\r\n                {\r\n                  console.log(bmpObj.image);\r\n                    SigCapture.HTMLTagIds.imageBox.appendChild(bmpObj.image);\r\n                }\r\n                else\r\n                {\r\n                    SigCapture.HTMLTagIds.imageBox.replaceChild(bmpObj.image, SigCapture.HTMLTagIds.imageBox.firstChild);\r\n                }\r\n            }\r\n            /* If the user chose the option to show the SigText value on the form then call the function to do this */\r\n            var checkShowSigtext = (<HTMLInputElement>document.getElementById(\"chkShowSigText\"));\r\n            if (checkShowSigtext.checked)\r\n            {\r\n                sigObjV.GetSigText(SigCapture.onGetSigText);\r\n            }\r\n        } \r\n    }\r\n        \r\n    /* This function takes the SigText value returned by the callback and places it in the txtSignature tag on the form */\r\n    static onGetSigText = (sigObjV, text, status) =>\r\n    {\r\n        if(SigCapture.callbackStatusOK(\"Signature Render Bitmap\", status))\r\n        {\r\n            SigCapture.HTMLTagIds.textSig.value = text;\r\n        }\r\n    }\r\n\r\n    static GetHash = (hash, callback) =>\r\n    {\r\n      SigCapture.callbackFunc = callback;\r\n  \r\n      SigCapture.print(\"Creating hash:\");\r\n      hash.Clear(SigCapture.onClear);   // Clear any pre-existing hash value before creating a new one\r\n    }\r\n  \r\n    static onClear = (hashV, status) =>\r\n    {\r\n      if(SigCapture.callbackStatusOK(\"Hash Clear\", status))\r\n      {\r\n        hashV.PutType(window.sdkPtr.HashType.HashMD5, SigCapture.onPutType);\r\n      } \r\n    }\r\n      \r\n    static onPutType = (hashV, status) =>\r\n    {\r\n      if(SigCapture.callbackStatusOK(\"Hash PutType\", status))\r\n      {\r\n        var vFname = new window.sdkPtr.Variant();\r\n        vFname.Set(SigCapture.HTMLTagIds.firstName.value);\r\n        hashV.Add(vFname, SigCapture.onAddFname);  // Add the first name to the hash\r\n      } \r\n    }\r\n      \r\n    static onAddFname = (hashV, status) =>\r\n    {\r\n      if(SigCapture.callbackStatusOK(\"Hash Add\", status))\r\n      {\r\n        var vLname = new window.sdkPtr.Variant();\r\n        vLname.Set(SigCapture.HTMLTagIds.lastName.value);\r\n        hashV.Add(vLname, SigCapture.onAddLname);  // Add the surname to the hash\r\n      } \r\n    }\r\n      \r\n    static onAddLname = (hashV, status) =>\r\n    {\r\n      if(SigCapture.callbackStatusOK(\"Hash Add\", status))\r\n      {\r\n        SigCapture.callbackFunc();\r\n      } \r\n    }\r\n}","<input type=\"button\" value=\"Capture\" style=\"height:10mm;width:35mm\" title=\"Starts signature capture\" (click)=\"capturesig()\"/>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}